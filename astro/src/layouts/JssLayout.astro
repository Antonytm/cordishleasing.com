---
import '../styles/app.css';
import type { LayoutServiceData, Field } from "@sitecore-jss/sitecore-jss/layout";
import Placeholder from '../components/system/Placeholder.astro';

export interface Props {
	title: string;
	layoutData: LayoutServiceData;
}

interface RouteFields {
  [key: string]: unknown;
  pageTitle: Field;
}

const { route } = Astro.props.layoutData.sitecore;
const { context } = Astro.props.layoutData.sitecore;

const fields = route?.fields as RouteFields;
const siteName = context?.site?.name || 'leasing';
const pageTitle = fields?.["HTML Title Override"]?.value ||
                  fields?.["Long Title"]?.value ||
                  fields?.["Short Title"]?.value ||
                  route?.displayName ||
                  'The Cordish Companies';
---

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{pageTitle}</title>
		<meta name="generator" content={Astro.generator} />
		<link rel="icon" href="/favicon.ico" />
		<link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" />
		<link rel="stylesheet" type="text/css" href="/Corporate/assets/css/screen.css" />
	</head>
	<body id="body" class={siteName}>
		<div id="__next">
			<div class="overlay">
				<div class="content-reveal">
					<Placeholder name="Header" rendering={route} />

					<main id="content">
						<Placeholder name="Main" rendering={route} />
					</main>
				</div>

				<Placeholder name="Footer" rendering={route} />
			</div>
		</div>
	</body>
</html>
